<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Problema</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Cadastro de Problema</h1>
    
    <input type="text" id="problema" placeholder="Nome do Problema"><br>
    <textarea id="descricao" placeholder="Descrição do Problema"></textarea><br>
    <button onclick="cadastrarProblema()">Cadastrar Problema</button>
    
    <br><br>
    <a href="problema.html">Ver Problemas Cadastrados</a>

    <script>
        async function cadastrarProblema() {
            const problema = document.getElementById("problema").value;
            const descricao = document.getElementById("descricao").value;

            if (!problema || !descricao) {
                alert("Preencha todos os campos!");
                return;
            }

            // Formata os dados para a Issue (sem usar token no front-end!)
            const issueTitle = `Novo Problema: ${problema}`;
            const issueBody = `**Descrição:** ${descricao}`;

            // Link para o usuário criar a Issue manualmente (solução segura)
            const issueUrl = `https://github.com/tiemerson/problema_teste/issues/new?title=${encodeURIComponent(issueTitle)}&body=${encodeURIComponent(issueBody)}`;
            
            // Abre uma nova aba para o usuário confirmar a criação da Issue
            window.open(issueUrl, "_blank");
            alert("Clique em 'Submit new issue' na página que abriu para finalizar o cadastro!");
        }
    </script>
</body>
</html>
